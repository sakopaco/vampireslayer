Sjasm Z80 Assembler v0.42c - www.xl2s.tk             [2021.06.05 - 19:32:40]

t4.asm
Errors: 0

       1   00:0000                      	OUTPUT	"t4.bin"
       2   00:8200                      	
       3   00:8200                      ;;=====================================================
       4   00:8200                      ;;DEFINICIÓN DE CONSTANTES
       5   00:8200                      ;;=====================================================	
       6   00:8200                      	include "constantes.asm"
       1.  00:8200                      ;;=====================================================
       2.  00:8200                      ;; FICHERO constantes.asm
       3.  00:8200                      ;;=====================================================
       4.  00:8200                      
       5.  00:8200                      ;;ETIQUETAS/CONSTANTES BIOS TECLADO
       6.  00:8200  (00:00D8)           GTTRIG	equ		#00D8	;Returns current trigger status
       7.  00:8200  (00:00D5)           GTSTCK	equ		#00D5	;Returns the joystick/cursors status
       8.  00:8200  (00:F3DB)           CLIKSW	equ		#F3DB	;deshabilita el sonido de clic cuando se pulsa una tecla
       9.  00:8200                      
      10.  00:8200                      ;;ETIQUETAS/CONSTANTES BIOS VDP
      11.  00:8200  (00:013E)           RDVDP	equ		#013E	;lee registro status VDP
      12.  00:8200  (00:0047)           WRTVDP	equ		#0047	;escribe registros del VDP
      13.  00:8200  (00:005C)           LDIRVM	equ		#005C	;RAM/ROM -> VRAM
      14.  00:8200  (00:0059)           LDIRMV	equ		#0059	;VRAM -> RAM
      15.  00:8200  (00:005F)           CHGMOD	equ		#005F	;cambia modo pantalla (screen mode)
      16.  00:8200  (00:0041)           DISSCR  equ		#0041	;desactiva pantanlla
      17.  00:8200  (00:0044)           ENASCR  equ		#0044	;activa pantalla
      18.  00:8200  (00:0062)           CHGCLR  equ		#0062	;cambia color de pantalla (toca A y direcciones)
      19.  00:8200  (00:F3E9)           FORCLR	equ		#F3E9	;zona memoria color foreground
      20.  00:8200  (00:F3EA)           BAKCLR  equ		#F3EA	;zona memoria color background
      21.  00:8200  (00:F3EB)           BDRCLR 	equ		#F3EB	;zona memoria bordercolor
      22.  00:8200  (00:00C3)           CLS		equ		#00C3	;limpia pantalla (necesita A=0)
      23.  00:8200                      
      24.  00:8200                      
      25.  00:8200  (00:00C0)           BEEP	equ		#00C0	;toca todos los registros
      26.  00:8200                      
       7   00:8200                      
       8   00:8200                      ;;=====================================================
       9   00:8200                      ;;DEFINICIÓN DE CABECERA DE ARCHIVO BIN
      10   00:8200                      ;;=====================================================		
      11   00:8200                      	include "cabecerabin.asm"
       1.  00:8200                      ;;=====================================================
       2.  00:8200                      ;; FICHERO cabecera.asm
       3.  00:8200                      ;;=====================================================
       4.  00:8200                      
       5.  00:8200                      ;;CABECERA FICHERO BIN
       6.  00:8200  FE                  	DB	#FE
       7.  00:8201  00 82               	DW	START
       8.  00:8203  36 85               	DW	END
       9.  00:8205  00 82               	DW	START
      10.  00:8207                      
      11.  00:8207                      ;;INICIO CÓDIGO PROGRAMA	
      12.  00:8207                      	ORG	#8200
      13.  00:8200                      	
      12   00:8200                      	
      13   00:8200                      START:
      14   00:8200  06 FA               	LD		 B,250
      15   00:8202                      loop_principal:
      16   00:8202  CD C0 00            	CALL	BEEP
      17   00:8205  10 FB               	DJNZ	loop_principal
      18   00:8207                      	
      19   00:8207  C9                  	RET
      20   00:8208                      	
      21   00:8208                      ;;=====================================================
      22   00:8208                      ;;DEFINICIÓN DE ESTRUCTURAS
      23   00:8208                      ;;=====================================================		
      24   00:8208                      	include "estructuras.asm"
       1.  00:8208                      ;;=====================================================
       2.  00:8208                      ;;DEFINICIÓN DE ESTRUCTURAS
       3.  00:8208                      ;;=====================================================
       4.  00:8208                      
       5.  00:8208                      	STRUCT ESTRUCTURA_PUNTOMIRA
       6.  00:8208                    < posx		DB		0
       7.  00:8208                    < posy		DB		0
       8.  00:8208                    < color		DB		0
       9.  00:8208                    < retardo		DB		0
      10.  00:8208                    < 	ENDSTRUCT;ESTRUCTURA_PUNTOMIRA
      11.  00:8208                      	
      12.  00:8208                      	STRUCT ESTRUCTURA_ENEMIGO
      13.  00:8208                    < existe		DB		0			;0 no existe y 1 existe (así recorro el array y sólo actuo en los enemigos creados no muertos)
      14.  00:8208                    < tipo		DB		0			;(0 serpiente)
      15.  00:8208                    < posx		DB		50
      16.  00:8208                    < posy		DB		50
      17.  00:8208                    < color		DB		5
      18.  00:8208                    < paso		DB		0			;paso 0 o 1 (2 escenas)
      19.  00:8208                    < retardo		DB		0			;entre 0 y 9
      20.  00:8208                    < energia		DB		0			;energía del enemigo... si llega a 0 => existe <- 0
      21.  00:8208                    < 	ENDSTRUCT;ESTRUCTURA_PUNTOMIRAA
      25   00:8208                      	
      26   00:8208                      ;;=====================================================
      27   00:8208                      ;;DEFINICIÓN DE VARIABLES
      28   00:8208                      ;;=====================================================		
      29   00:8208                      	include "sprites.asm"
       1.  00:8208                      ;;=====================================================
       2.  00:8208                      ;;DEFINICIÓN DE SPRITES
       3.  00:8208                      ;;=====================================================	
       4.  00:8208                      sprites_pantantalla:
       5.  00:8208                      
       6.  00:8208                      sprite_punto_mira:
       7.  00:8208                      	db  #00,#01,#0F,#11,#20,#24,#20,#71
       7.  00:8208  00 01 0F 11 20 24 20 71 
       8.  00:8210                      	db  #71,#20,#24,#20,#11,#0F,#01,#00
       8.  00:8210  71 20 24 20 11 0F 01 00 
       9.  00:8218                      	db  #00,#80,#F0,#88,#04,#24,#04,#8E
       9.  00:8218  00 80 F0 88 04 24 04 8E 
      10.  00:8220                      	db  #8E,#04,#24,#04,#88,#F0,#80,#00
      10.  00:8220  8E 04 24 04 88 F0 80 00 
      11.  00:8228                      	
      12.  00:8228                      sprite_punto_mira_disp:
      13.  00:8228                      	DB  #FF,#FF,#FF,#FF,#FF,#FF,#FF,#FF
      13.  00:8228  FF FF FF FF FF FF FF FF 
      14.  00:8230                      	DB  #FF,#FF,#FF,#FF,#FF,#FF,#FF,#FF
      14.  00:8230  FF FF FF FF FF FF FF FF 
      15.  00:8238                      	DB  #FF,#FF,#FF,#FF,#FF,#FF,#FF,#FF
      15.  00:8238  FF FF FF FF FF FF FF FF 
      16.  00:8240                      	DB  #FF,#FF,#FF,#FF,#FF,#FF,#FF,#FF
      16.  00:8240  FF FF FF FF FF FF FF FF 
      17.  00:8248                      	
      18.  00:8248                      serpiente_paso1:
      19.  00:8248                      	DB #00,#00,#00,#00,#00,#00,#00,#10
      19.  00:8248  00 00 00 00 00 00 00 10 
      20.  00:8250                      	DB #30,#20,#60,#70,#38,#1C,#1F,#0F
      20.  00:8250  30 20 60 70 38 1C 1F 0F 
      21.  00:8258                      	DB #00,#38,#7C,#76,#7E,#7C,#FA,#C1
      21.  00:8258  00 38 7C 76 7E 7C FA C1 
      22.  00:8260                      	DB #E0,#60,#70,#78,#3C,#1C,#F8,#F8
      22.  00:8260  E0 60 70 78 3C 1C F8 F8 
      23.  00:8268                      
      24.  00:8268                      serpiente_paso2:
      25.  00:8268                      	DB #00,#00,#00,#00,#00,#00,#01,#05
      25.  00:8268  00 00 00 00 00 00 01 05 
      26.  00:8270                      	DB #1C,#30,#30,#30,#38,#1C,#1F,#0F
      26.  00:8270  1C 30 30 30 38 1C 1F 0F 
      27.  00:8278                      	DB #00,#70,#F8,#EC,#FC,#F8,#F5,#C2
      27.  00:8278  00 70 F8 EC FC F8 F5 C2 
      28.  00:8280                      	DB #E0,#60,#70,#38,#18,#1C,#F8,#F0
      28.  00:8280  E0 60 70 38 18 1C F8 F0 
      30   00:8288                      	
      31   00:8288                      	include "habitaciones.asm"
       1.  00:8288                      ;;=====================================================
       2.  00:8288                      ;;DEFINICIÓN DE HABITACIONES x NIVEL
       3.  00:8288                      ;;=====================================================	
       4.  00:8288                      
       5.  00:8288                      habitaciones:
       6.  00:8288                      
       7.  00:8288                      habitaciones_nivel1:
       8.  00:8288                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(primera fila)
       8.  00:8288  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
       9.  00:8296                      	dw  #00,#00,#00,#00,#00,#00,#00
       9.  00:8296  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      10.  00:82A4                      	dw  #00,#00,#00,#00,#00,#00,#00
      10.  00:82A4  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      11.  00:82B2                      	dw  #00,#00,#00,#00,#00,#00,#00
      11.  00:82B2  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      12.  00:82C0                      	dw  #00,#00,#00,#00,#00,#00,#00
      12.  00:82C0  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      13.  00:82CE                      	dw  #00,#00,#00,#00,#00,#00,#00
      13.  00:82CE  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      14.  00:82DC                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(última fila)
      14.  00:82DC  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      15.  00:82EA                      	
      16.  00:82EA                      habitaciones_nivel2:
      17.  00:82EA                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(primera fila)
      17.  00:82EA  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      18.  00:82F8                      	dw  #00,#00,#00,#00,#00,#00,#00
      18.  00:82F8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      19.  00:8306                      	dw  #00,#00,#00,#00,#00,#00,#00
      19.  00:8306  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      20.  00:8314                      	dw  #00,#00,#00,#00,#00,#00,#00
      20.  00:8314  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      21.  00:8322                      	dw  #00,#00,#00,#00,#00,#00,#00
      21.  00:8322  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      22.  00:8330                      	dw  #00,#00,#00,#00,#00,#00,#00
      22.  00:8330  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      23.  00:833E                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(última fila)
      23.  00:833E  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      24.  00:834C                      	
      25.  00:834C                      habitaciones_nivel3:
      26.  00:834C                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(primera fila)
      26.  00:834C  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      27.  00:835A                      	dw  #00,#00,#00,#00,#00,#00,#00
      27.  00:835A  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      28.  00:8368                      	dw  #00,#00,#00,#00,#00,#00,#00
      28.  00:8368  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      29.  00:8376                      	dw  #00,#00,#00,#00,#00,#00,#00
      29.  00:8376  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      30.  00:8384                      	dw  #00,#00,#00,#00,#00,#00,#00
      30.  00:8384  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      31.  00:8392                      	dw  #00,#00,#00,#00,#00,#00,#00
      31.  00:8392  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      32.  00:83A0                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(última fila)
      32.  00:83A0  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      33.  00:83AE                      	
      34.  00:83AE                      habitaciones_nivel4:
      35.  00:83AE                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(primera fila)
      35.  00:83AE  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      36.  00:83BC                      	dw  #00,#00,#00,#00,#00,#00,#00
      36.  00:83BC  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      37.  00:83CA                      	dw  #00,#00,#00,#00,#00,#00,#00
      37.  00:83CA  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      38.  00:83D8                      	dw  #00,#00,#00,#00,#00,#00,#00
      38.  00:83D8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      39.  00:83E6                      	dw  #00,#00,#00,#00,#00,#00,#00
      39.  00:83E6  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      40.  00:83F4                      	dw  #00,#00,#00,#00,#00,#00,#00
      40.  00:83F4  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      41.  00:8402                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(última fila)
      41.  00:8402  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      42.  00:8410                      	
      43.  00:8410                      habitaciones_nivel5:
      44.  00:8410                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(primera fila)
      44.  00:8410  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      45.  00:841E                      	dw  #00,#00,#00,#00,#00,#00,#00
      45.  00:841E  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      46.  00:842C                      	dw  #00,#00,#00,#00,#00,#00,#00
      46.  00:842C  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      47.  00:843A                      	dw  #00,#00,#00,#00,#00,#00,#00
      47.  00:843A  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      48.  00:8448                      	dw  #00,#00,#00,#00,#00,#00,#00
      48.  00:8448  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      49.  00:8456                      	dw  #00,#00,#00,#00,#00,#00,#00
      49.  00:8456  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      50.  00:8464                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(última fila)
      50.  00:8464  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      51.  00:8472                      	
      52.  00:8472                      habitaciones_nivel6:
      53.  00:8472                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(primera fila)
      53.  00:8472  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      54.  00:8480                      	dw  #00,#00,#00,#00,#00,#00,#00
      54.  00:8480  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      55.  00:848E                      	dw  #00,#00,#00,#00,#00,#00,#00
      55.  00:848E  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      56.  00:849C                      	dw  #00,#00,#00,#00,#00,#00,#00
      56.  00:849C  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      57.  00:84AA                      	dw  #00,#00,#00,#00,#00,#00,#00
      57.  00:84AA  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      58.  00:84B8                      	dw  #00,#00,#00,#00,#00,#00,#00
      58.  00:84B8  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      59.  00:84C6                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(última fila)
      59.  00:84C6  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      60.  00:84D4                      	
      61.  00:84D4                      habitaciones_nivel7:
      62.  00:84D4                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(primera fila)
      62.  00:84D4  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      63.  00:84E2                      	dw  #00,#00,#00,#00,#00,#00,#00
      63.  00:84E2  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      64.  00:84F0                      	dw  #00,#00,#00,#00,#00,#00,#00
      64.  00:84F0  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      65.  00:84FE                      	dw  #00,#00,#00,#00,#00,#00,#00
      65.  00:84FE  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      66.  00:850C                      	dw  #00,#00,#00,#00,#00,#00,#00
      66.  00:850C  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      67.  00:851A                      	dw  #00,#00,#00,#00,#00,#00,#00
      67.  00:851A  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      68.  00:8528                      	dw  #00,#00,#00,#00,#00,#00,#00 ;(última fila)
      68.  00:8528  00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      32   00:8536                      	
      33   00:8536                      
      34   00:8536                      END:

    LABELS
-------------------------------------------------
00:000000D8 X GTTRIG
00:000000D5 X GTSTCK
00:0000F3DB X CLIKSW
00:0000013E X RDVDP
00:00000047 X WRTVDP
00:0000005C X LDIRVM
00:00000059 X LDIRMV
00:0000005F X CHGMOD
00:00000041 X DISSCR
00:00000044 X ENASCR
00:00000062 X CHGCLR
00:0000F3E9 X FORCLR
00:0000F3EA X BAKCLR
00:0000F3EB X BDRCLR
00:000000C3 X CLS
00:000000C0   BEEP
00:00008200   START
00:00008202   loop_principal
00:00000000 X ESTRUCTURA_PUNTOMIRA.posx
00:00000001 X ESTRUCTURA_PUNTOMIRA.posy
00:00000002 X ESTRUCTURA_PUNTOMIRA.color
00:00000003 X ESTRUCTURA_PUNTOMIRA.retardo
00:00000004 X ESTRUCTURA_PUNTOMIRA
00:00000000 X ESTRUCTURA_ENEMIGO.existe
00:00000001 X ESTRUCTURA_ENEMIGO.tipo
00:00000002 X ESTRUCTURA_ENEMIGO.posx
00:00000003 X ESTRUCTURA_ENEMIGO.posy
00:00000004 X ESTRUCTURA_ENEMIGO.color
00:00000005 X ESTRUCTURA_ENEMIGO.paso
00:00000006 X ESTRUCTURA_ENEMIGO.retardo
00:00000007 X ESTRUCTURA_ENEMIGO.energia
00:00000008 X ESTRUCTURA_ENEMIGO
00:00008208 X sprites_pantantalla
00:00008208 X sprite_punto_mira
00:00008228 X sprite_punto_mira_disp
00:00008248 X serpiente_paso1
00:00008268 X serpiente_paso2
00:00008288 X habitaciones
00:00008288 X habitaciones_nivel1
00:000082EA X habitaciones_nivel2
00:0000834C X habitaciones_nivel3
00:000083AE X habitaciones_nivel4
00:00008410 X habitaciones_nivel5
00:00008472 X habitaciones_nivel6
00:000084D4 X habitaciones_nivel7
00:00008536   END


 Output: t4.out
-------------------------------------------------

 Page: 00
  Org: 00008200  Size: *  Used: 00000000

    No output

 Output: t4.bin
-------------------------------------------------

 Page: 00
  Org: 00008200  Size: *  Used: 0000033D

   Address   Length Align   Label
   00008200     829         START
